http://mbed.org/users/Kerpower/code/4DGL/#6063b076187b
